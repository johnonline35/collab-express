{
  "version": 3,
  "sources": ["../src/index.ts"],
  "sourcesContent": ["import { errorConstructors } from './constructors';\nexport { errorConstructors };\n\nconst getErrorConstructor = (name: string) => errorConstructors.get(name) ?? Error;\n\nconst commonProperties: { property: string, enumerable: boolean }[] = [\n  {\n    property: 'name',\n    enumerable: false,\n  },\n  {\n    property: 'message',\n    enumerable: false,\n  },\n  {\n    property: 'stack',\n    enumerable: false,\n  },\n  {\n    property: 'code',\n    enumerable: true,\n  },\n  {\n    property: 'cause',\n    enumerable: false,\n  },\n];\n\nexport type SerializedError = {\n  name: string;\n  message: string;\n  stack: string;\n};\n\nexport function serializeError(subject: Error): SerializedError {\n  const data = {};\n  for(const { property } of commonProperties) {\n    if (!(property in subject)) continue;\n    data[property] = subject[property];\n  }\n  return data as SerializedError;\n}\n\nexport function deserializeError(subject: SerializedError): Error {\n  const fn = getErrorConstructor(subject.name);\n  const output = new fn();\n\n  for(const { property, enumerable } of commonProperties) {\n    if (!(property in subject)) continue;\n    Object.defineProperty(output, property, {\n      value: subject[property],\n      enumerable,\n      configurable: true,\n      writable: true,\n    });\n  }\n\n  return output;\n}\n\n"],
  "mappings": ";;;;;;;;;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BAAkC;AAGlC,MAAM,sBAAsB,CAAC,SAAiB,sCAAkB,IAAI,IAAI,KAAK;AAE7E,MAAM,mBAAgE;AAAA,EACpE;AAAA,IACE,UAAU;AAAA,IACV,YAAY;AAAA,EACd;AAAA,EACA;AAAA,IACE,UAAU;AAAA,IACV,YAAY;AAAA,EACd;AAAA,EACA;AAAA,IACE,UAAU;AAAA,IACV,YAAY;AAAA,EACd;AAAA,EACA;AAAA,IACE,UAAU;AAAA,IACV,YAAY;AAAA,EACd;AAAA,EACA;AAAA,IACE,UAAU;AAAA,IACV,YAAY;AAAA,EACd;AACF;AAQO,SAAS,eAAe,SAAiC;AAC9D,QAAM,OAAO,CAAC;AACd,aAAU,EAAE,SAAS,KAAK,kBAAkB;AAC1C,QAAI,EAAE,YAAY;AAAU;AAC5B,SAAK,YAAY,QAAQ;AAAA,EAC3B;AACA,SAAO;AACT;AAEO,SAAS,iBAAiB,SAAiC;AAChE,QAAM,KAAK,oBAAoB,QAAQ,IAAI;AAC3C,QAAM,SAAS,IAAI,GAAG;AAEtB,aAAU,EAAE,UAAU,WAAW,KAAK,kBAAkB;AACtD,QAAI,EAAE,YAAY;AAAU;AAC5B,WAAO,eAAe,QAAQ,UAAU;AAAA,MACtC,OAAO,QAAQ;AAAA,MACf;AAAA,MACA,cAAc;AAAA,MACd,UAAU;AAAA,IACZ,CAAC;AAAA,EACH;AAEA,SAAO;AACT;",
  "names": []
}
